!function(e,s,t){"use strict";var i,r={};function l(e){var t;e.preventDefault(),i=s(this).prev(".scriptless-image-id"),t?t.open():((t=wp.media.frames.file_frame=wp.media({title:[r.params.text],button:{text:[r.params.text]},multiple:!1,library:{type:"image"}})).on("select",function(){var e=t.state().get("selection").first().toJSON(),r=s(i).prevAll(".scriptless-image-preview"),l=s('<div class="scriptless-image-preview"><img style="max-width:100%;" src="'+e.url+'" /></div>');s(i).val(e.id),r.length&&r.remove(),s(i).before(l)}),t.open())}function a(){i=s(this).prevAll(".scriptless-image-id");var e=s(this).prevAll(".scriptless-image-preview");s(i).val(""),s(e).remove()}r.upload=function(){s(".scriptless-upload").on("click.scriptless",l),s(".scriptless-delete").on("click.delete",a)},r.params="undefined"==typeof scriptlessL10n?"":scriptlessL10n,void 0!==r.params&&r.upload()}(document,jQuery);