!function(e,s,i){"use strict";var t,l={},r="scriptless-uploader";function a(e){var i;e.preventDefault(),t=s(this).prev(".scriptless-image-id"),i?i.open():((i=wp.media.frames.file_frame=wp.media({id:r,title:[l.params.text],button:{text:[l.params.text]},filterable:"all",multiple:!1,library:{type:"image"}})).on("select",function(){var e=i.state().get("selection").first().toJSON(),l=s(t).prevAll(".scriptless-image-preview"),r=s('<div class="scriptless-image-preview"><img style="max-width:100%;" src="'+e.url+'" /></div>');s(t).val(e.id),l.length&&l.remove(),s(t).before(r)}),i.open())}function p(){t=s(this).prevAll(".scriptless-image-id");var e=s(this).prevAll(".scriptless-image-preview");s(t).val(""),s(e).remove()}l.upload=function(){s(".scriptless-upload").on("click.scriptless",a),s(".scriptless-delete").on("click.delete",p)},l.params="undefined"==typeof scriptlessL10n?"":scriptlessL10n,void 0!==l.params&&l.upload()}(document,jQuery);