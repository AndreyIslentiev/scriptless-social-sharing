!function(t,a,n){"use strict";var i={},e=".sortable-button",s=a(".scriptless-sortable-buttons"),r=s.find('input[type="number"]'),o=!1;function l(){if(!o){var t=a(e).find("input"),n=0;a.each(t,function(){var t=a(this).val();a(this).attr("data-initial-value",t),a(this).attr("value",n),n++})}}i.init=function(){s.length&&(l(),a('label[for^="scriptlesssocialsharing[buttons]"] input').on("change",i.manageButtons),r.on("change",function(){!function(t,n){var i=t.val()-t.attr("data-initial-value"),e=parseInt(t.val(),10),s=parseInt(t.attr("data-initial-value"),10),r=a(n).length;e>r?t.val(r):e<0&&t.val(0);a(n).not(a(t)).each(function(){var t=parseInt(a(this).val(),10);t>=e&&t<s&&i<0?a(this).val(t+1):t<=e&&t>s&&i>0&&a(this).val(t-1)}).promise().done(function(){a(n).each(function(){""!==a(this).val()&&a(this).attr("data-initial-value",a(this).val())})}),a(".change-warning").show(),o=!0}(a(this),r)}),i.sort())},i.manageButtons=function(){var t=a(this).attr("data-attr"),n=a(this).parent().text();if(a(this).prop("checked")){var i=a("<div />",{class:"button sortable-button",style:"margin-right:4px;"}).append(a("<input>",{type:"number",name:"scriptlesssocialsharing[order]["+t+"]",value:r.length,"data-initial-value":r.length,min:0})).append(n);s.append(i)}else a(e+":contains("+n+")").remove();a.each(r,function(){a(this).attr("max",r.length)}),l()},i.sort=function(){s.sortable({containment:"parent",cursor:"move",items:e,tolerance:"pointer",stop:function(t,a){l()}})},i.init()}(document,jQuery);